{"version":3,"sources":["utilities/load-extensions-from-files.ts"],"names":[],"mappings":";;AAAA,2BAAgC;AAChC,+BAA4B;AAC5B,kDAA4C;AAG5C,uFAAiF;AAGjF;IACI,MAAM,IAAI,GAAG,WAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,gBAAgB,CAAC,CAAC;IACzE,IAAI,eAAU,CAAC,IAAI,CAAC,EAAE;QAClB,MAAM,MAAM,GAAG,cAAI,CAAC,IAAI,CAAiB,IAAI,CAAC,CAAC;QAE/C,OAAO,8DAA4B,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KAC7E;SAAM;QACH,OAAO,EAAE,CAAC;KACb;AACL,CAAC;AATD,0DASC","file":"load-extensions-from-files.js","sourcesContent":["import { existsSync } from \"fs\";\nimport { join } from \"path\";\nimport { Json } from \"@notadd/core/loaders\";\nimport { Type } from \"@nestjs/common\";\n\nimport { importClassesFromDirectories } from \"./import-classes-from-directories\";\nimport { ExtensionCache } from \"../interfaces/extension-cache.interface\";\n\nexport function loadExtensionsFromFiles(): Array<Type<any>> {\n    const file = join(process.cwd(), \"storages\", \"caches\", \"extension.json\");\n    if (existsSync(file)) {\n        const caches = Json.load<ExtensionCache>(file);\n\n        return importClassesFromDirectories(caches.enabled ? caches.enabled : []);\n    } else {\n        return [];\n    }\n}\n"]}