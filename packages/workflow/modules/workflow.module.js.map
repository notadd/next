{"version":3,"sources":["modules/workflow.module.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,2CAA4D;AAC5D,oEAAgE;AAChE,2EAAuE;AACvE,0CAAuE;AAevE,IAAa,cAAc,GAA3B;IAKI,YACqB,uBAAgD,EAChD,eAAgC;QADhC,4BAAuB,GAAvB,uBAAuB,CAAyB;QAChD,oBAAe,GAAf,eAAe,CAAiB;IAErD,CAAC;IAKD,KAAK,CAAC,SAAS,CAAC,QAA4B;QACxC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,CAAC,CAAC;QACxE,MAAM,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;IACvC,CAAC;CACJ,CAAA;AAlBY,cAAc;IAb1B,eAAM,CAAC;QACJ,OAAO,EAAE;YACL,0BAAe;SAClB;QACD,OAAO,EAAE;YACL,8BAAa;SAChB;QACD,SAAS,EAAE;YACP,kCAAe;YACf,kCAAuB;YACvB,0BAAe;SAClB;KACJ,CAAC;qCAOgD,kCAAuB;QAC/B,0BAAe;GAP5C,cAAc,CAkB1B;AAlBY,wCAAc","file":"workflow.module.js","sourcesContent":["import { MiddlewareConsumer, Module } from \"@nestjs/common\";\nimport { MetadataScanner } from \"@nestjs/core/metadata-scanner\";\nimport { SettingModule } from \"@notadd/setting/modules/setting.module\";\nimport { WorkflowExplorerService, WorkflowService } from \"../services\";\n\n@Module({\n    exports: [\n        WorkflowService,\n    ],\n    imports: [\n        SettingModule,\n    ],\n    providers: [\n        MetadataScanner,\n        WorkflowExplorerService,\n        WorkflowService,\n    ],\n})\nexport class WorkflowModule {\n    /**\n     * @param { WorkflowExplorerService } workflowExplorerService\n     * @param { WorkflowService } workflowService\n     */\n    constructor(\n        private readonly workflowExplorerService: WorkflowExplorerService,\n        private readonly workflowService: WorkflowService,\n    ) {\n    }\n\n    /**\n     * @param { MiddlewareConsumer } consumer\n     */\n    async configure(consumer: MiddlewareConsumer) {\n        this.workflowService.initialize(this.workflowExplorerService.explore());\n        await this.workflowService.start();\n    }\n}\n"]}