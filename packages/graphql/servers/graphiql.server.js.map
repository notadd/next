{"version":3,"sources":["servers/graphiql.server.ts"],"names":[],"mappings":";;AAAA,0DAA0D;AAC1D,2BAA2B;AAI3B,wBAA+B,OAA8B;IACzD,OAAO,CAAC,GAA6B,EAAE,GAAyB,EAAE,IAAS,EAAE,EAAE;QAC3E,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC;QACxD,QAAQ,CAAC,qBAAqB,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC,IAAI,CACpD,cAAc,CAAC,EAAE;YACb,GAAG,CAAC,SAAS,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;YAC3C,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YAC1B,GAAG,CAAC,GAAG,EAAE,CAAC;QACd,CAAC,EACD,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CACvB,CAAC;IACN,CAAC,CAAC;AACN,CAAC;AAZD,wCAYC","file":"graphiql.server.js","sourcesContent":["import * as GraphiQL from \"apollo-server-module-graphiql\";\nimport * as url from \"url\";\nimport { IncomingMessage, ServerResponse } from \"http\";\nimport { RequestHandler } from \"@nestjs/common/interfaces/http/http-server.interface\";\n\nexport function graphiqlServer(options: GraphiQL.GraphiQLData): RequestHandler {\n    return (req: Partial<IncomingMessage>, res: ServerResponse | any, next: any) => {\n        const query = req.url && url.parse(req.url, true).query;\n        GraphiQL.resolveGraphiQLString(query, options, req).then(\n            graphiqlString => {\n                res.setHeader(\"Content-Type\", \"text/html\");\n                res.write(graphiqlString);\n                res.end();\n            },\n            error => next(error),\n        );\n    };\n}\n"]}